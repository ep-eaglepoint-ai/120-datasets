diff --git a/repository_before/Contacts.java b/repository_after/Contacts.java
index 60541947c..8126a3855 100644
--- a/repository_before/Contacts.java
+++ b/repository_after/Contacts.java
@@ -1,69 +1,59 @@
 import java.util.HashMap;
 import java.util.Scanner;
-
+ 
 public class Contacts {
-
+ 
     public static void main(String[] args) {
         Scanner in = new Scanner(System.in);
+ 
         int n = in.nextInt();
-
-        TrieNode root = null; 
-
-        for (int i = 0; i <= n; i++) { 
-            String op = in.nextLine(); 
-            String contact = in.nextLine();
-
-            if (op == "add") { 
+        TrieNode root = new TrieNode();
+ 
+        for (int i = 0; i < n; i++) {
+            String op = in.next();
+            String contact = in.next();
+ 
+            if ("add".equals(op)) {
                 addWord(root, contact);
-            } else if (op.equals("find")) {
+            } else if ("find".equals(op)) {
                 System.out.println(findWord(root, contact));
             }
         }
     }
-
+ 
     private static void addWord(TrieNode root, String word) {
         TrieNode current = root;
-
+        current.prefixCount++;
+ 
         for (int i = 0; i < word.length(); i++) {
             char c = word.charAt(i);
-
-            TrieNode next = current.getChildren().get(c); 
-
+            TrieNode next = current.children.get(c);
             if (next == null) {
-                next = new TrieNode(c);
+                next = new TrieNode();
+                current.children.put(c, next);
             }
-
-            current = next; 
+            current = next;
+            current.prefixCount++;
         }
     }
-
-    private static int findWord(TrieNode root, String word) {
+ 
+    private static int findWord(TrieNode root, String prefix) {
         TrieNode current = root;
-
-        for (char c : word.toCharArray()) {
-            current = current.getChildren().get(c); 
+ 
+        for (int i = 0; i < prefix.length(); i++) {
+            char c = prefix.charAt(i);
+            TrieNode next = current.children.get(c);
+            if (next == null) {
+                return 0;
+            }
+            current = next;
         }
-
-        return current.getN(); 
-    }
-}
-
-class TrieNode {
-    private char c;
-    private int n;
-    private HashMap<Character, TrieNode> children;
-
-    public TrieNode(char c) {
-        this.c = c;
-        this.n = 0;  
-        this.children = null; 
-    }
-
-    public int getN() {
-        return n;
+ 
+        return current.prefixCount;
     }
-
-    public HashMap<Character, TrieNode> getChildren() {
-        return children;
+ 
+    private static final class TrieNode {
+        private int prefixCount = 0;
+        private final HashMap<Character, TrieNode> children = new HashMap<>();
     }
 }
